<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
    <script src="https://unpkg.com/vue@2.7.8/dist/vue.js"></script>
    <title>Tutordays</title>
  </head>
  <body>
    <div id="App">
      <header>
        <h1 v-text="sitename"></h1>

        <button v-on:click="showCheckout">
          {{ itemsInTheCart }}
          <span class="fa-solid fa-cart-shopping"></span>
          Checkout
        </button>
      </header>

      <main>
        <div v-if="showProduct">
          <figure>
            <img v-bind:src="product.Image" />
          </figure>
          <h1 v-text="product.title"></h1>
          <p v-text="product.description"></p>
          <p>Price: {{ product.price }}</p>

          <button v-if="canAddToTheCart" v-on:click="addItemToTheCart">
            Add to the Cart
          </button>
          <div v-else>
            <button disabled>Add to the Cart</button>
            You have added all the availble items for this product in your cart
          </div>
        </div>
        <div v-else>
          <h1>Welcome to the Checkout page</h1>
          <h2>Checkout</h2>
          <h2>Enter Your Information</h2>
          <p>
            <strong>First Name:</strong>
            <!-- This input field is bound to 'firstName' in the 'order' object -->
            <input v-model="order.firstName" />
          </p>
          <p>
            <strong>Last Name:</strong>
            <!-- This input field is bound to 'lastName' in the 'order' object -->
            <input v-model="order.lastName" />
          </p>
          <p>
            <strong>Address:</strong>
            <!-- This input field is bound to 'address' in the 'order' object -->
            <input v-model="order.address" />
          </p>
          <p>
            <strong>City:</strong>
            <!-- This input field is bound to 'city' in the 'order' object -->
            <input v-model="order.city" />
          </p>
          <p>
            <strong>State:</strong>
            <!-- This input field is bound to 'state' in the 'order' object -->
            <select v-model="order.state" class="form-control">
              <option disabled value="">State</option>
              <option v-bind:value="states.AL">AL</option>
              <option v-bind:value="states.AR">AR</option>
              <option v-bind:value="states.CA">CA</option>
              <option v-bind:value="states.NV">NV</option>
            </select>
          </p>
          <p>
            <strong>Zip/Postal Code:</strong>
            <!-- This input field is bound to 'zip' in the 'order' object -->
            <input v-model="order.zip" />
          </p>
          <p>
            <input
              type="checkbox"
              id="gift"
              value="true"
              v-model="order.gift"
              v-bind:true-value="order.sendGift"
              v-bind:false-value="order.dontsendGift"
            /><label for="gift">Ship As Gift</label>
          </p>
          <p>
            <input
              type="radio"
              id="home"
              value="Home"
              v-model="order.method"
            /><label for="home">Home</label>
            <input
              type="radio"
              id="business"
              value="Business"
              v-model="order.method"
            /><label for="business">Business</label>
          </p>
          <button v-on:click="submitForm">Place Order</button>

          <h2>Order Information</h2>
          <p>First Name: {{order.firstName}}</p>
          <p>Last Name: {{order.lastName}}</p>
          <p>Address: {{order.address}}</p>
          <p>City: {{order.city}}</p>
          <p>Zip: {{order.zip}}</p>
          <p>State: {{order.state}}</p>
        </div>
      </main>
    </div>

    <script>
      let webstore = new Vue({
        el: "#App",
        data: {
          sitename: "Tutordays",
          showProduct: true,
          product: {
            id: 1001,
            title: "Maths lessons",
            description:
              "Teaching lesson for students from Secondary schools from years 7 - 11 for 1 hour",
            price: 200,
            Image: "Images/images1.jpeg",
            availableInventory: 5,
          },
          cart: [],
          order: {
            firstName: "",
            lastName: "",
            address: "",
            city: "",
            zip: "",
            state: "",
            method: "Home",
            gift: false,
            sendGift: "Send as a gift",
            dontsendGift: "Do not send as a gift",
          },
             // List of states for dynamic dropdown
             states: {
              AL: "Alabama",
              AR: "Arizona",
              CA: "California",
              NV: "Nevada",
            },
        },
        methods: {
          showCheckout: function () {
            this.showProduct = this.showProduct ? false : true;
          },
          addItemToTheCart: function () {
            this.cart.push(this.product.id);
          },
          submitForm: function () {
            alert("Order Submitted!");
          },
        },
        computed: {
          itemsInTheCart: function () {
            return this.cart.length || "";
          },
          canAddToTheCart: function () {
            return this.product.availableInventory > this.itemsInTheCart;
          },
        },
      });
    </script>
  </body>
</html>
